<?xml version="1.0"?>
<robot name="cubemars_test" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- ros2_control block using CubeMarsSystemHardware -->
  <ros2_control name="CubemarsSystem" type="system">
    <hardware>
      <!-- This must match the plugin class name -->
      <plugin>cubemars_hardware/CubeMarsSystemHardware</plugin>
      <param name="can_interface">slcan0</param>  <!-- or can0 -->
    </hardware>

    <!-- Five actuator joints with CAN IDs 30-34 -->
    <joint name="Joint1">
      <param name="can_id">30</param>      <!-- CAN ID 30 (0x1E) -->
      <param name="pole_pairs">21</param>
      <param name="gear_ratio">9</param>
      <param name="kt">0.1</param>
      <param name="vel_limit">7.5</param>
      <param name="acc_limit">10.0</param>
      <param name="enc_off">0.0</param>
      <param name="read_only">0</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Joint2">
      <param name="can_id">31</param>      <!-- CAN ID 31 (0x1F) -->
      <param name="pole_pairs">21</param>
      <param name="gear_ratio">1</param>
      <param name="kt">0.105</param>
      <param name="vel_limit">12.0</param>
      <param name="acc_limit">3.0</param>
      <param name="enc_off">0.0</param>
      <param name="read_only">0</param> 
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Joint3">
      <param name="can_id">32</param>      <!-- CAN ID 32 (0x20) -->
      <param name="pole_pairs">21</param>
      <param name="gear_ratio">64</param>
      <param name="kt">0.105</param>
      <param name="vel_limit">12.0</param>
      <param name="acc_limit">3.0</param>
      <param name="enc_off">0.0</param>
      <param name="read_only">0</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Joint4">
      <param name="can_id">33</param>      <!-- CAN ID 33 (0x21) -->
      <param name="pole_pairs">21</param>
      <param name="gear_ratio">9</param>
      <param name="kt">0.1</param>
      <param name="vel_limit">2.5</param>
      <param name="acc_limit">10.0</param>
      <param name="enc_off">0.0</param>
      <param name="read_only">0</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="Joint5">
      <param name="can_id">34</param>      <!-- CAN ID 34 (0x22) -->
      <param name="pole_pairs">21</param>
      <param name="gear_ratio">9</param>
      <param name="kt">0.1</param>
      <param name="vel_limit">17.5</param>
      <param name="acc_limit">10.0</param>
      <param name="enc_off">0.0</param>
      <param name="read_only">0</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>
</robot>
